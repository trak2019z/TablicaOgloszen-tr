<mat-card class="content-container">
  <div *ngIf="editGroupForm">
    <form [formGroup]="editGroupForm" (ngSubmit)="onSubmit()">
      <mat-card-title>Edycja grupy</mat-card-title>

      <mat-card-content>
        <div class="form-container">

          <input hidden formControlName="id"/>

          <mat-form-field>
            <input formControlName="creationDate" id="creationDate" matInput placeholder="Data utworzenia" readonly>
          </mat-form-field>

          <mat-form-field>
            <input formControlName="name" id="name" matInput placeholder="Nazwa">
            <mat-error
              *ngIf="(isSubmitted || editGroupForm.get('name').touched) && editGroupForm.get('name').invalid">
              <div *ngIf="editGroupForm.get('name').errors['required']">
                Nazwa grupy jest wymagana
              </div>
              <div *ngIf="editGroupForm.get('name').errors['maxlength']">
                Nazwa grupy nie może mieć więcej niż 20 znaków
              </div>
            </mat-error>
          </mat-form-field>

          <mat-form-field>
          <textarea formControlName="description" id="description" matInput placeholder="Opis" rows="2"
                    style="resize: none;"></textarea>
            <mat-error
              *ngIf="(isSubmitted || editGroupForm.get('description').touched) && editGroupForm.get('description').invalid">
              <div *ngIf="editGroupForm.get('description').errors['maxlength']">
                Opis grupy nie może mieć więcej niż 255 znaków
              </div>
            </mat-error>
          </mat-form-field>

          <div *ngIf="isFirebaseError" class="alert alert-danger" role="alert">
            {{errorMessage}}
          </div>

        </div>
      </mat-card-content>
      <mat-card-actions>
        <a routerLink="/groups" routerLinkActive="active" class="btn btn-dark">Powrót</a>
        <button type="submit" mat-raised-button color="primary" class="button-width">Zapisz</button>
      </mat-card-actions>
    </form>
  </div>
</mat-card>
