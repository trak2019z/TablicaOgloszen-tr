<div class="content-container">
  <form [formGroup]="createGroupForm" (ngSubmit)="onSubmit()">
    <h2>Nowa grupa</h2>
    <p>Aby stworzyć nową grupę wpisz nazwę i ewentualnie opis.</p>

    <div class="form-group row">
      <label for="name" class="col-sm-2 col-form-label">Nazwa</label>
      <div class="col-sm-10">
        <input id="name" formControlName="name" type="text" placeholder="Nazwa"
               class="form-control"
               [ngClass]="{'is-invalid': (isSubmitted || createGroupForm.get('name').touched) && createGroupForm.get('name').invalid}">
        <div *ngIf="(isSubmitted || createGroupForm.get('name').touched) && createGroupForm.get('name').invalid"
             class="invalid-feedback">
          <div *ngIf="createGroupForm.get('name').errors['required']">
            Nazwa grupy jest wymagana
          </div>
          <div *ngIf="createGroupForm.get('name').errors['maxlength']">
            Nazwa grupy nie może mieć więcej niż 20 znaków
          </div>
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label for="description" class="col-sm-2 col-form-label">Opis</label>
      <div class="col-sm-10">
          <textarea rows="2" class="form-control" id="description" formControlName="description" placeholder="Opis"
                    [ngClass]="{'is-invalid': (isSubmitted || createGroupForm.get('description').touched) && createGroupForm.get('description').invalid}">
          </textarea>
        <div
          *ngIf="(isSubmitted || createGroupForm.get('description').touched) && createGroupForm.get('description').invalid"
          class="invalid-feedback">
          <div *ngIf="createGroupForm.get('description').errors['maxlength']">
            Nazwa grupy nie może mieć więcej niż 255 znaków
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="isFirebaseError" class="alert alert-danger" role="alert">
      {{errorMessage}}
    </div>

    <div class="form-group-buttons">
      <a routerLink="/groups" routerLinkActive="active" class="btn btn-dark">Powrót</a>
      <button type="submit" class="btn btn-primary button-width ml-3">Stwórz</button>
    </div>
  </form>
</div>
